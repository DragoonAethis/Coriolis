{% extends 'base.html' %}
{% load i18n crispy_forms_tags %}

{% block content %}
<div class="row">
    <div class="col-md-6 offset-md-3">
        <h1>{% trans "Setup Two-Factor Authentication" %}</h1>

        <h4>{% trans 'Step 1' %}:</h4>
        <p>{% trans 'Scan the QR code below with a token generator of your choice (for instance Google Authenticator).' %}</p>
        <div class="text-center">
            <img src="{{ qr_code_url }}"/>
            <pre>{{ secret }}</pre>
        </div>

        <h4>{% trans 'Step 2' %}:</h4>
        <p>{% trans 'Input a token generated by the app:' %}</p>

        <form method="post">
            {% csrf_token %}
            {{ form.non_field_errors }}
            {{ form.otp_token|as_crispy_field }}

            <button class="btn btn-lg btn-primary" type="submit">{% trans 'Verify' %}</button>
        </form>
    </div>
</div>
{% endblock %}
